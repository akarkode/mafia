
<!doctype html>
<html lang="id" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Middleware berbasis AI untuk mendeteksi brute force dan memblokir payload berbahaya">
      
      
        <meta name="author" content="Tim MAFIA">
      
      
      
      
        <link rel="next" href="index-en/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>MAFIA - Middleware AI Firewall Application</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mafia-middleware-ai-firewall-application" class="md-skip">
          Lewati ke isi
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="MAFIA - Middleware AI Firewall Application" class="md-header__button md-logo" aria-label="MAFIA - Middleware AI Firewall Application" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MAFIA - Middleware AI Firewall Application
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Beranda
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cari" placeholder="Cari" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cari">
        
        <button type="reset" class="md-search__icon md-icon" title="Kosongkan" aria-label="Kosongkan" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Mempersiapkan pencarian
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/akarkode/mafia" title="Ke repositori" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    mafia
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tab" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="." class="md-tabs__link">
        
  
  
    
  
  Beranda

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="index-en/" class="md-tabs__link">
        
  
  
    
  
  English

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigasi" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="MAFIA - Middleware AI Firewall Application" class="md-nav__button md-logo" aria-label="MAFIA - Middleware AI Firewall Application" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MAFIA - Middleware AI Firewall Application
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/akarkode/mafia" title="Ke repositori" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    mafia
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Beranda
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Beranda
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#instalasi" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Instalasi
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cara-menggunakan" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Cara Menggunakan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fitur-keamanan" class="md-nav__link">
    <span class="md-ellipsis">
      🛡️ Fitur Keamanan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🛡️ Fitur Keamanan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-deteksi-brute-force" class="md-nav__link">
    <span class="md-ellipsis">
      1. Deteksi Brute Force
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-filter-payload-berbahaya" class="md-nav__link">
    <span class="md-ellipsis">
      2. Filter Payload Berbahaya
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      3. Rate Limiting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#struktur-internal" class="md-nav__link">
    <span class="md-ellipsis">
      🧠 Struktur Internal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🧠 Struktur Internal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kelas-dan-fungsi-penting" class="md-nav__link">
    <span class="md-ellipsis">
      Kelas dan Fungsi Penting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rencana-pengembangan" class="md-nav__link">
    <span class="md-ellipsis">
      📈 Rencana Pengembangan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lisensi-dan-kontribusi" class="md-nav__link">
    <span class="md-ellipsis">
      📄 Lisensi dan Kontribusi
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index-en/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="mafia-middleware-ai-firewall-application">MAFIA - Middleware AI Firewall Application<a class="headerlink" href="#mafia-middleware-ai-firewall-application" title="Permanent link">&para;</a></h1>
<p><strong>MAFIA</strong> adalah middleware Python yang berfungsi untuk mendeteksi dan mencegah serangan brute force serta memblokir payload berbahaya (XSS, SQL Injection, dan sejenisnya). Middleware ini cocok diintegrasikan pada aplikasi berbasis FastAPI atau Starlette.</p>
<hr />
<h2 id="instalasi">🔧 Instalasi<a class="headerlink" href="#instalasi" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/akarkode/mafia.git
</code></pre></div>
<hr />
<h2 id="cara-menggunakan">🚀 Cara Menggunakan<a class="headerlink" href="#cara-menggunakan" title="Permanent link">&para;</a></h2>
<p>Tambahkan middleware pada aplikasi FastAPI kamu:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">mafia.middleware</span> <span class="kn">import</span> <span class="n">BruteForceMiddleware</span>
<span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_middleware</span><span class="p">(</span><span class="n">BruteForceMiddleware</span><span class="p">,</span> <span class="n">redis_url</span><span class="o">=</span><span class="s2">&quot;redis://localhost:6379&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>Middleware akan secara otomatis:
- Mendeteksi dan memblokir permintaan mencurigakan dari IP yang sama.
- Menjalankan klasifikasi AI untuk percobaan brute-force.
- Memblokir request yang mengandung payload berbahaya.</p>
<hr />
<h2 id="fitur-keamanan">🛡️ Fitur Keamanan<a class="headerlink" href="#fitur-keamanan" title="Permanent link">&para;</a></h2>
<h3 id="1-deteksi-brute-force">1. Deteksi Brute Force<a class="headerlink" href="#1-deteksi-brute-force" title="Permanent link">&para;</a></h3>
<p>Model AI <code>BruteForceDetector</code> menganalisis pola login mencurigakan berdasarkan fitur seperti frekuensi dan interval permintaan.</p>
<h3 id="2-filter-payload-berbahaya">2. Filter Payload Berbahaya<a class="headerlink" href="#2-filter-payload-berbahaya" title="Permanent link">&para;</a></h3>
<p><code>SecurityFilter</code> menyaring:
- Serangan XSS: <code>&lt;script&gt;</code>, <code>onerror=</code>, <code>javascript:</code>
- SQL Injection: <code>' OR 1=1</code>, <code>UNION SELECT</code>, <code>--</code>, dll</p>
<h3 id="3-rate-limiting">3. Rate Limiting<a class="headerlink" href="#3-rate-limiting" title="Permanent link">&para;</a></h3>
<p><code>RedisClient</code> digunakan untuk membatasi jumlah permintaan berdasarkan alamat IP.</p>
<hr />
<h2 id="struktur-internal">🧠 Struktur Internal<a class="headerlink" href="#struktur-internal" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>[Client] → [BruteForceMiddleware]
   ├─ [RedisClient] - rate limiting
   ├─ [BruteForceDetector] - klasifikasi brute force
   └─ [SecurityFilter] - blokir XSS/SQLi
</code></pre></div>
<h3 id="kelas-dan-fungsi-penting">Kelas dan Fungsi Penting<a class="headerlink" href="#kelas-dan-fungsi-penting" title="Permanent link">&para;</a></h3>
<ul>
<li><code>BruteForceMiddleware</code></li>
<li><code>dispatch()</code>: Middleware utama</li>
<li><code>BruteForceDetector</code></li>
<li><code>predict(features: list) -&gt; bool</code></li>
<li><code>train()</code>, <code>save_model()</code></li>
<li><code>SecurityFilter</code></li>
<li><code>is_malicious(payload: str) -&gt; bool</code></li>
</ul>
<hr />
<h2 id="rencana-pengembangan">📈 Rencana Pengembangan<a class="headerlink" href="#rencana-pengembangan" title="Permanent link">&para;</a></h2>
<ul>
<li>Visualisasi log secara real-time.</li>
<li>Integrasi ElasticSearch untuk pencatatan keamanan.</li>
<li>Dukungan klasifikasi AI berbasis LSTM.</li>
<li>Otomatisasi pelatihan model periodik.</li>
</ul>
<hr />
<h2 id="lisensi-dan-kontribusi">📄 Lisensi dan Kontribusi<a class="headerlink" href="#lisensi-dan-kontribusi" title="Permanent link">&para;</a></h2>
<p>Silakan buka <code>LICENSE</code> untuk informasi lisensi. Pull request, issue, dan kontribusi sangat disambut.</p>
<hr />
<blockquote>
<p>Dokumentasi ini disusun menggunakan MkDocs Material dalam satu halaman untuk kesederhanaan dan kecepatan akses.</p>
</blockquote>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.tabs", "navigation.sections", "toc.integrate", "content.code.copy", "search.suggest", "search.highlight"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Tersalin ke clipboard", "clipboard.copy": "Salin ke clipboard", "search.result.more.one": "1 lagi di halaman ini", "search.result.more.other": "# lagi di halaman ini", "search.result.none": "Tidak ada dokumen yang sesuai", "search.result.one": "1 dokumen ditemukan", "search.result.other": "# dokumen ditemukan", "search.result.placeholder": "Ketik untuk mulai pencarian", "search.result.term.missing": "Tidak ada", "select.version": "Pilih versi"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>